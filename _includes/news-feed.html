{% assign feed = site.data.news_feed | default: empty %}
{% assign title = include.title | default: "Latest Coverage" %}
{% assign kicker = include.kicker | default: "From around the web" %}

<section class="news-feed">
  <header class="section-head">
    <p class="section-kicker">{{ kicker }}</p>
    <h2 class="section-heading">{{ title }}</h2>
  </header>

  {% if feed == empty %}
    <p class="muted">No recent articles yet.</p>
  {% else %}
    {% assign sorted = feed | sort: "published" | reverse %}
    {% assign groups = sorted | group_by_exp: "item", "item.published | slice: 0, 4" %}
    {% for g in groups %}
      <h3 class="news-year">{{ g.name }}</h3>
      <div class="news-grid">
        {% for a in g.items %}
          {% assign img = a.image | default: a.og_image %}
          <a class="news-card" href="{{ a.link }}" target="_blank" rel="noopener">
            <div class="news-eyebrow">
              {% if a.source %}<span class="source-pill">{{ a.source }}</span>{% endif %}
              {% if a.published %}<time class="news-date" datetime="{{ a.published }}">{{ a.published | slice: 0, 10 }}</time>{% endif %}
            </div>
            <h4 class="news-title">{{ a.title }}</h4>
            {% if img %}
              <div class="news-thumb" style="background-image:url('{{ img }}');"></div>
            {% endif %}
          </a>
        {% endfor %}
      </div>
    {% endfor %}
  {% endif %}
</section>

/* =========================================================
   HOTFIX — scoped, append-only fixes
   ========================================================= */

/* 0) Navy theme: page text light, white surfaces stay dark */
body.theme-navy { color:#eaf1ff; }
body.theme-navy .muted { color:#c7d0e6; }

/* Keep all white “card-like” surfaces dark-on-white */
body.theme-navy .nav,
body.theme-navy .card,
body.theme-navy .mission-card,
body.theme-navy .about-summary .about-wrap,
body.theme-navy .family-card,
body.theme-navy .bio-block,
body.theme-navy .product-card,
body.theme-navy .tm-card,
body.theme-navy .news-card,
body.theme-navy .res-card,
body.theme-navy .hero-box,
body.theme-navy .strip,
body.theme-navy .sponsors,
body.theme-navy .sponsors-grid .sponsor,
body.theme-navy .band > .container {
  background:#fff;
  color:var(--ink) !important;
  border-color:var(--border);
}

/* 1) Contact strip (“Get in touch”) readable */
.strip,
.strip h3,
.strip p,
.strip a { color:var(--ink) !important; }

/* 2) Shop tabs: all rounded + active gradient readable */
.tabs .tab { border-radius:999px !important; }
.tabs .tab.active{
  background:linear-gradient(90deg,var(--brand),var(--navy));
  color:#fff !important;
  border-color:transparent;
  text-shadow:0 1px 0 rgba(0,0,0,.15);
}

/* 3) Results page: dark text for names + details */
.res-card, .res th, .res td { color:#1f2937 !important; background:#fff; }
.res .muted { color:#475569 !important; }

/* 4) Our Story: section titles + divider readable on navy */
#story-root .section-kicker,
#story-root .section-heading { color:#fff !important; }
#story-root .divider { border:0; border-top:2px solid rgba(255,255,255,.35) !important; }

/* 5) “Our Mission” text shouldn’t be white-on-white */
#mission, .mission, .mission-card, .about-summary .about-wrap {
  background:#fff; color:var(--ink) !important;
}

/* 6) Featured collab secondary line stronger */
.featured-collab .meta,
.featured-collab .subtext,
.featured-collab small { color:#3a475b !important; }

/* 7) Sponsor names centered under logos */
.s-name { text-align:center !important; }

/* 8) Bios & timeline: raise paragraph contrast on white cards */
.bio-block, .story-timeline .card, .story-timeline .tl-card { color:var(--ink); }
.bio-block p, .story-timeline p { color:#334155 !important; }

/* 9) “Jump to bios” button legible on Our Story */
#story-root .btn:not(.primary){
  background:#fff; color:var(--ink) !important; border:1px solid var(--border);
}
#story-root .btn.primary{ color:#fff !important; }

/* 10) Home athlete grid — fix layout, “My story” legible, logos inline */
.home .ath-grid, #family .ath-grid{
  display:grid !important;
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)) !important;
  gap:16px !important;
}
.ath-card{
  display:flex; flex-direction:column;
  background:#fff; color:var(--ink);
  border:1px solid var(--border); border-radius:14px; box-shadow:var(--shadow);
}
.ath-media{
  width:100%; aspect-ratio:1/1; height:auto !important;
  border-radius:12px; overflow:hidden;
  background:#eef3ff; border:1px solid var(--border);
}
.ath-media img{
  width:100% !important; height:100% !important;
  object-fit:cover !important; display:block;
}
/* Logos should not blow up—contain + pad */
.ath-media img.logo,
.ath-media img[alt*="logo" i]{
  object-fit:contain !important;
  padding:14px; background:#fff;
}
/* Actions pinned to bottom; “My story” readable */
.ath-actions{
  margin-top:auto; display:flex; align-items:center;
  justify-content:space-between; gap:12px;
}
.ath-actions .btn{ color:var(--ink) !important; }
.ath-social{ display:flex; gap:10px; }
.ath-ico{
  width:32px; height:32px; border-radius:999px; display:grid; place-items:center;
  background:#fff; border:1px solid var(--border); box-shadow:var(--shadow);
}
.ath-ico img{ width:18px; height:18px; object-fit:contain; }

/* 11) Gradient buttons anywhere: force white text for readability */
.btn.primary,
a.btn.primary,
button.btn.primary { color:#fff !important; text-shadow:0 1px 0 rgba(0,0,0,.15); }
