{% assign highlights = site.data.news_highlights | slice: 0, 3 %}
{% assign title = include.title | default: "Featured Stories" %}
{% assign kicker = include.kicker | default: "Top picks from Team Macuga" %}

<section class="news-highlights">
  <header class="section-head">
    <p class="section-kicker">{{ kicker }}</p>
    <h2 class="section-heading">{{ title }}</h2>
  </header>

  {% if highlights and highlights.size > 0 %}
    <div class="news-grid">
      {% for n in highlights %}
        <a class="news-card tall" href="{{ n.link }}" target="_blank" rel="noopener">
          <div class="news-eyebrow">
            <span class="source-pill">{{ n.source | default: "Featured" }}</span>
            {% if n.date %}<time class="news-date" datetime="{{ n.date }}">{{ n.date }}</time>{% endif %}
          </div>
          <h3 class="news-title">{{ n.title }}</h3>
          {% if n.summary %}<p class="summary">{{ n.summary }}</p>{% endif %}
          {% if n.image %}
            <div class="news-thumb" style="background-image:url('{{ n.image }}');"></div>
          {% endif %}
        </a>
      {% endfor %}
    </div>
  {% else %}
    <p class="muted">Add three stories to <code>_data/news_highlights.yml</code> to show highlights.</p>
  {% endif %}
</section>
